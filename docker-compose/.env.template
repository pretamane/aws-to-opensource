# ============================================================================
# EDGE + PER-SERVICE AUTH CONFIGURATION
# Edge enforcement via Caddy, with distinct credentials per service
# ============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.template .env
# 2. Replace all placeholder passwords with strong unique passwords
# 3. Keep .env private (already in .gitignore)
# ============================================================================

# ============================================================================
# POSTGRESQL DATABASE
# ============================================================================
# Used by both the PostgreSQL server AND the FastAPI app
# DB_USER and DB_PASSWORD must match POSTGRES_USER and POSTGRES_PASSWORD
POSTGRES_USER=pretamane
POSTGRES_PASSWORD=#ThawZin2k77!
DB_NAME=pretamane-db
DB_USER=pretamane
DB_PASSWORD=#ThawZin2k77!

# ============================================================================
# MEILISEARCH (Search Engine)
# ============================================================================
# API key for Meilisearch - must be 16+ characters
MEILI_MASTER_KEY=CHANGE_ME_MeilisearchKey2024!MinimumSixteenChars

# ============================================================================
# MINIO (S3-Compatible Object Storage)
# ============================================================================
# Root credentials for MinIO console login
MINIO_ROOT_USER=minio_admin
MINIO_ROOT_PASSWORD=CHANGE_ME_MinioPassword123!

# ============================================================================
# GRAFANA (Monitoring Dashboard)
# ============================================================================
# Admin credentials for Grafana UI
GF_SECURITY_ADMIN_USER=grafana_admin
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_GrafanaPassword123!

# ============================================================================
# PGADMIN (Database Admin UI)
# ============================================================================
# Email is required as username for pgAdmin
PGADMIN_DEFAULT_EMAIL=admin@localhost.local
PGADMIN_DEFAULT_PASSWORD=CHANGE_ME_PgAdminPassword123!

# ============================================================================
# AWS SES (Email Service - Optional)
# ============================================================================
# Leave empty if not using AWS SES
# App will log warnings but continue to function
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
SES_FROM_EMAIL=
SES_TO_EMAIL=

# ============================================================================
# EDGE AUTH NOTES
# ============================================================================
# Caddy basic auth (edge layer) credentials are in config/caddy/Caddyfile
# Current edge credentials: username "pretamane", password "#ThawZin2k77!"
#
# To change edge password:
# 1. Generate new hash: docker run --rm caddy:2-alpine caddy hash-password --plaintext 'YourNewPassword'
# 2. Replace the bcrypt hash in config/caddy/Caddyfile basic_auth blocks
#
# SECURITY MODEL:
# - Edge layer: Caddy basic auth protects all admin paths
# - Service layer: Each service has its own credentials above
# - Result: Two-factor defense (edge auth + per-service auth)
# ============================================================================
